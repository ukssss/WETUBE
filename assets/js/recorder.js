(()=>{const e=document.getElementById("startBtn"),t=document.getElementById("preview");let n,c,a;const d=()=>{const e=document.createElement("a");e.href=a,e.download="MyRecording.webm",document.body.appendChild(e),e.click(),n.getTracks().forEach((e=>{e.stop()})),n=null},i=()=>{e.innerText="Download Recording",e.removeEventListener("click",i),e.addEventListener("click",d),c.stop()},o=async()=>{e.innerText="Stop Recording",e.removeEventListener("click",o),e.addEventListener("click",i),c=new MediaRecorder(n,{mimeType:"video/webm"}),c.ondataavailable=e=>{a=URL.createObjectURL(e.data),t.srcObject=null,t.src=a,t.loop=!0,t.play()},c.start()};(async()=>{n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}),t.srcObject=n,t.play()})(),e.addEventListener("click",o)})();